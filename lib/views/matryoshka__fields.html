<template name="matryoshka__fields">

	<label class="matryoshka__form__label" for="{{ ../../matryoshkaId }}-{{name}}">
		{{ name }}
		{{#if description }}

			<span class="matryoshka__form__label__description">
				{{ description }}
			</span>

		{{/if}}
	</label>

	{{#if this.imagePreview }}
		<img class="matryoshka__form__image-preview" src="{{ getFieldValue ../.. }}" alt="Linked image preview" />
	{{/if}}

	{{#if ifValueEquals this.type "text" }}
		<input id="{{ ../../matryoshkaId }}-{{this.name}}" data-parent-id="{{ ../../matryoshkaId }}" class="matryoshka-save-on-blur" type="text" value="{{ getFieldValue ../..}}" />
	{{/if}}

	{{#if ifValueEquals this.type "linkedNestable" }}
		<strong><a href="/matryoshka/edit/{{ getFieldValue ../..}}">{{ getLinkedNestableName ../..}}</a></strong>
	{{/if}}

	{{#if ifValueEquals this.type "locked" }}
		<input type="text" value="{{ getFieldValue ../..}}" disabled="disabled" />
	{{/if}}

	{{#if ifValueEquals this.type "textarea" }}
		<textarea id="{{ ../../matryoshkaId }}-{{this.name}}" data-parent-id="{{ ../../matryoshkaId }}" class="matryoshka-save-on-blur">{{ getFieldValue ../..}}</textarea>
	{{/if}}

	{{#if ifValueEquals this.type "select" }}

		<select id="{{ ../../matryoshkaId }}-{{this.name}}" data-parent-id="{{ ../../matryoshkaId }}" class="matryoshka-save-on-select">

			<option value="not-selected">-</option>

			{{#each selectableData }}

				<option
					value="{{ name }}"
					selected="{{ ifSelectValueEquals ../../../matryoshkaId ../name name }}"
					data-collection-id="{{ _id }}"
					>
					{{{ extraDesc }}}{{ name }}
				</option>

			{{/each}}

		</select>

		{{ setActiveSelectValue ../../matryoshkaId ../.. name }}

	{{/if}}

	<div class="matryoshka__form__clearfix"></div>


</template>
